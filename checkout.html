<head>
  <script>
   window._talkableq = window._talkableq || [];
   _talkableq.push(['init', { site_id: 'human-spider' }]);

   window._talkableq.push(['authenticate_customer', {
     email: '', // Optional, pass when available. Example: 'customer@example.com'
     first_name: '', // Optional, pass when available. Example: 'John'
     last_name: '' // Optional, pass when available. Example: 'Smith'
   }]);
 </script>

 <script async src="human-spider.min.js" type="text/javascript">
 </script>
</head>
<body>
  <script>
  function talkablePurchase() {
    var _talkable_data = {
      purchase: {
        order_number: document.getElementById('order_number').value, // Unique order number. Example: '100011'
        subtotal: document.getElementById('subtotal').value, // Order subtotal (pre-tax, post-discount). Example: '23.97'
        coupon_code: document.getElementById('coupon_code').value // Coupon code that was used at checkout (pass multiple as an array). Example: 'SAVE20'
      },
      customer: {
        email: document.getElementById('email').value || 'friend' + Math.random().toString().split('.')[1] + '@friend.com'
      }
    };
    console.log(_talkable_data);
    window._talkableq.push(['register_purchase', _talkable_data]);
  }
  </script>
  <h1>Checkout</h1>
  <p>Order number: <input id="order_number" /></p>
  <p>Subtotal: <input id="subtotal" /></p>
  <p>Coupon code: <input id="coupon_code" /></p>
  <p>Email: <input id="email" /></p>
  <p><button onclick="talkablePurchase()">Purchase</button></p>
</body>
